(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-brandAttention"],{"2e9a":function(t,e,a){"use strict";var n={"uni-load-more":a("355d9").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content"},[null==t.brandList||0===t.brandList.length?a("empty"):t._e(),a("v-uni-view",{staticClass:"hot-section"},t._l(t.brandList,function(e,n){return a("v-uni-view",{key:n,staticClass:"guess-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.navToDetailPage(e)}}},[a("v-uni-view",{staticClass:"image-wrapper"},[a("v-uni-image",{attrs:{src:e.brandLogo,mode:"aspectFit"}})],1),a("v-uni-view",{staticClass:"txt"},[a("v-uni-text",{staticClass:"title clamp"},[t._v(t._s(e.brandName))])],1)],1)}),1),a("uni-load-more",{attrs:{status:t.loadingType}})],1)},o=[];a.d(e,"b",function(){return i}),a.d(e,"c",function(){return o}),a.d(e,"a",function(){return n})},"4a99":function(t,e,a){"use strict";a.r(e);var n=a("c5f1"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e["default"]=i.a},"6cf9":function(t,e,a){"use strict";a.r(e);var n=a("2e9a"),i=a("4a99");for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);a("f4b9");var r,s=a("f0c5"),d=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"032a462b",null,!1,n["a"],r);e["default"]=d.exports},"95dc":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-032a462b],\n.content[data-v-032a462b]{background:#f8f8f8}.hot-section[data-v-032a462b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;margin-top:%?16?%}.hot-section .guess-item[data-v-032a462b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;width:100%;padding:0 %?30?%;margin-bottom:%?16?%;background-color:#fff;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.hot-section .image-wrapper[data-v-032a462b]{width:30%;height:%?170?%;border-radius:3px;overflow:hidden;background:#fff}.hot-section .image-wrapper uni-image[data-v-032a462b]{width:100%;height:100%;opacity:1}.hot-section .title[data-v-032a462b]{font-size:%?32?%;color:#303133;line-height:%?80?%}.hot-section .title2[data-v-032a462b]{font-size:%?24?%;color:#909399;line-height:%?40?%;height:%?80?%;overflow:hidden;text-overflow:ellipsis;display:block}.hot-section .price[data-v-032a462b]{font-size:%?32?%;color:#fa436a;line-height:%?80?%}.hot-section .txt[data-v-032a462b]{width:70%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding-left:%?40?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.hot-section .hor-txt[data-v-032a462b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.hot-section .time[data-v-032a462b]{font-size:%?24?%;color:#303133;line-height:%?80?%}body.?%PAGE?%[data-v-032a462b]{background:#f8f8f8}',""])},ae66:function(t,e,a){var n=a("95dc");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("0f16c734",n,!0,{sourceMap:!1,shadowMode:!1})},be7f:function(t,e,a){"use strict";var n=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.createBrandAttention=o,e.deleteBrandAttention=r,e.fetchBrandAttentionList=s,e.brandAttentionDetail=d,e.clearBrandAttention=l;var i=n(a("afdb"));function o(t){return(0,i.default)({method:"POST",url:"/member/attention/add",data:t})}function r(t){return(0,i.default)({method:"POST",url:"/member/attention/delete",params:t})}function s(t){return(0,i.default)({method:"GET",url:"/member/attention/list",params:t})}function d(t){return(0,i.default)({method:"GET",url:"/member/attention/detail",params:t})}function l(){return(0,i.default)({method:"POST",url:"/member/attention/clear"})}},c5f1:function(t,e,a){"use strict";var n=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var i=n(a("3b8d")),o=n(a("eb91")),r=n(a("355d9")),s=a("899e"),d=a("be7f"),l={components:{uniLoadMore:r.default,empty:o.default},data:function(){return{loadingType:"more",brandList:[],searchParam:{pageNum:1,pageSize:6}}},onLoad:function(t){this.loadData()},onPullDownRefresh:function(){this.loadData("refresh")},onReachBottom:function(){this.searchParam.pageNum++,this.loadData()},onNavigationBarButtonTap:function(t){var e=t.index,a=this;0===e&&uni.showModal({title:"提示",content:"是否要清空所有浏览记录？",success:function(t){t.confirm&&(0,d.clearBrandAttention)().then(function(t){a.loadData("refresh")})}})},filters:{formatDateTime:function(t){if(null==t||""===t)return"N/A";var e=new Date(t);return(0,s.formatDate)(e,"yyyy-MM-dd hh:mm:ss")}},methods:{loadData:function(){var t=(0,i.default)(regeneratorRuntime.mark(function t(){var e,a,n=this,i=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:"add",a=i.length>1?i[1]:void 0,"add"!==e){t.next=8;break}if("nomore"!==this.loadingType){t.next=5;break}return t.abrupt("return");case 5:this.loadingType="loading",t.next=9;break;case 8:this.loadingType="more";case 9:"refresh"===e&&(this.searchParam.pageNum=1,this.brandList=[]),(0,d.fetchBrandAttentionList)(this.searchParam).then(function(t){var i=t.data.list;0===i.length?(n.loadingType="nomore",n.searchParam.pageNum--):(i.length<n.searchParam.pageSize?(n.loadingType="nomore",n.searchParam.pageNum--):n.loadingType="more",n.brandList=n.brandList.concat(i)),"refresh"===e&&(1==a?uni.hideLoading():uni.stopPullDownRefresh())});case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),navToDetailPage:function(t){var e=t.brandId;uni.navigateTo({url:"/pages/brand/brandDetail?id=".concat(e)})},stopPrevent:function(){}}};e.default=l},f4b9:function(t,e,a){"use strict";var n=a("ae66"),i=a.n(n);i.a}}]);